![](https://raw.githubusercontent.com/Sunwood-ai-labs/aws-terraform-sandbox/main/docs/USAGE.png)

# ğŸš€ Terraform ã‚’ä½¿ç”¨ã—ãŸ AWS ä¸Šã® Streamlit ã‚¢ãƒ—ãƒªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¤ãƒ¼

Terraform ã‚’ä½¿ç”¨ã—ã¦ AWS ä¸Šã§ Streamlit ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¨ç®¡ç†ã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚

## âœ¨ ç‰¹å¾´

- ğŸ•’ è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ï¼šå¹³æ—¥ã®æœ 8 æ™‚ã«èµ·å‹•ã—ã€æ­£åˆã«åœæ­¢
- ğŸ”’ AWS Systems Manager Session Manager ã‚’ä»‹ã—ãŸã‚»ã‚­ãƒ¥ã‚¢ãªãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹
- ğŸ›  ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªè¨­å®šï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ãªã©ï¼‰
- ğŸŒ åŒ…æ‹¬çš„ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆVPCã€ã‚µãƒ–ãƒãƒƒãƒˆã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã€ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

## ğŸš¦ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ï¼š`cd s02_streamlit_aws_deployer`
3. Terraform ã‚’åˆæœŸåŒ–ï¼š`terraform init`
4. ãƒ—ãƒ©ãƒ³ã‚’ç¢ºèªï¼š`terraform plan`
5. ãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ï¼š`terraform apply`

## âš™ï¸ è¨­å®š

`terraform.tfvars` ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š

```hcl
aws_region         = "ap-northeast-1"
project_name       = "streamlit-app"
vpc_cidr           = "10.0.0.0/16"
public_subnet_cidr = "10.0.1.0/24"
ami_id             = "ami-0d52744d6551d851e"
instance_type      = "t2.micro"
key_name           = "ã‚ãªãŸã®ã‚­ãƒ¼ãƒšã‚¢å"
```

## ğŸ–¥ ãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹

- Session Manager çµŒç”±ï¼šSSH ã‚’è¨­å®šã—ã€`ssh -i "path/to/your/key.pem" ubuntu@i-1234567890abcdef0` ã‚’ä½¿ç”¨
- ç›´æ¥ SSHï¼ˆElastic IP ä½¿ç”¨æ™‚ï¼‰ï¼š`ssh -i "path/to/your/key.pem" ubuntu@<Elastic_IP>`

## âš ï¸ é‡è¦ãªæ³¨æ„ç‚¹

- ğŸ’° ã‚³ã‚¹ãƒˆç®¡ç†ï¼šä½¿ç”¨ã—ã¦ã„ãªã„ãƒªã‚½ãƒ¼ã‚¹ã¯ `terraform destroy` ã§å‰Šé™¤
- ğŸ›¡ æœ¬ç•ªç’°å¢ƒã§ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å¼·åŒ–
- ğŸ”§ å¿…è¦ã«å¿œã˜ã¦ `variables.tf` ã¨ `terraform.tfvars` ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
